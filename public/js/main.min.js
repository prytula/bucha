"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $$(e,t,o){var n=(t="function"!=typeof t?t||document:(o=t,document)).querySelectorAll(e),n=Array.prototype.slice.call(t.querySelectorAll(e));return"function"==typeof o&&n.forEach(function(e,t,n){o(e,t,n)}),n}function addCss(e,t){function n(e){Object.assign(e.style,t)}if(Array.isArray(e))for(var o=e.length-1;0<=o;o--)n(e[o]);else n(e)}function getElementIndex(e){for(var t=0;e=e.previousElementSibling;)t++;return t}function h_el(e){return!!(Array.isArray(e)&&0<e.length)}function debugging(){[].forEach.call($$("*"),function(e){e.style.outline="1px solid #"+(~~(Math.random()*(1<<24))).toString(16)})}function addEv(e,t,n){e&&("addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n))}function is_touch_device(){return"ontouchstart"in window||navigator.maxTouchPoints}function openPopup(e){e=$$(e)[0];return!e.classList.contains("open")&&e.classList.add("open")}function closePopup(){var e=$$(".popup")[0];$$(".popup__close")[0].addEventListener("click",function(){return e.classList.contains("open")&&e.classList.remove("open")})}function galeryInit(){$$(".section_2__slider")[0]&&new Swiper(".section_2__slider",{speed:700,allowTouchMove:!0,slidesPerView:"auto",loop:!0,centeredSlides:!0,breakpoints:{0:{mousewheel:{}},768:{slidesPerView:"auto",allowTouchMove:!1,centeredSlides:!1,initialSlide:0,loop:!1}},pagination:{el:".slider__pagination",clickable:!0},navigation:{nextEl:".slider__next"}})}function sliderInit(){var t;$$(".main-slider")[0]&&(t=new Swiper(".main-slider",{direction:"vertical",speed:700,allowTouchMove:!1,mousewheel:{invert:!1},breakpoints:{0:{mousewheel:{}},768:{speed:700,mousewheelControl:!0,allowTouchMove:!1,mousewheel:{invert:!1}}},pagination:{el:".slider__pagination",clickable:!0},navigation:{nextEl:".slider__next"}})).on("slideChange",function(e){t.activeIndex%2!=0?$$(".slider__next")[0].classList.contains("white")||$$(".slider__next")[0].classList.add("white"):$$(".slider__next")[0].classList.contains("white")&&$$(".slider__next")[0].classList.remove("white")})}function objectifyForm(e){e=e.querySelectorAll("input"),e=Array.from(e).reduce(function(e,t){return e.push(t.value),e},[]).filter(function(e){return""!==e}).join("_");return e.includes(" ")?e.replaceAll(" ","_"):e}function onSuccessRequest(e){var o=$$(".popup__result_values.example")[0].closest(".popup__result_row");$$(".popup__result_values",function(e){e.classList.contains("exmple")||e.closest(".popup__result_row").remove()});e=e.flat();console.log(e),e.forEach(function(e){var t=o.cloneNode(!0);t.querySelector(".popup__result_values").classList.remove("example");var n={name:t.querySelector(".name .value"),number:t.querySelector(".index .value"),militaryUnit:t.querySelector(".number .value")};n.name.textContent=e.name,n.number.textContent=e.number,n.militaryUnit.textContent=e.militaryUnit,$$(".popup__result_table")[0].appendChild(t)}),o.remove(),$$(".popup__result_values")[0].classList.add("example")}function sendRequest(){var e=$$(".popup__form")[0],t=$$(".popup__result--true")[0],n=$$(".popup__result--false")[0],o=objectifyForm(e);$$(".preloader")[0].classList.contains("visible")||$$(".preloader")[0].classList.add("visible"),n.classList.contains("open")&&n.classList.remove("open"),t.classList.contains("open")&&t.classList.remove("open"),$.ajax({type:"GET",headers:{"Content-Type":"application/json"},data:{query:o},url:e.action,success:function(e){"array"!=typeof e&&"object"!=_typeof(e)||0===e.length?(t.classList.contains("open")&&t.classList.remove("open"),n.classList.contains("open")||n.classList.add("open")):(onSuccessRequest(e),n.classList.contains("open")&&n.classList.remove("open"),t.classList.contains("open")||t.classList.add("open")),$$(".preloader")[0].classList.contains("visible")&&$$(".preloader")[0].classList.remove("visible")},error:function(){console.log("error"),t.classList.contains("open")&&t.classList.remove("open"),n.classList.contains("open")||n.classList.add("open"),$$(".preloader")[0].classList.contains("visible")&&$$(".preloader")[0].classList.remove("visible")}})}function formHandler(){var e=$$(".popup__input")[0];$$(".popup__button")[0].addEventListener("click",function(){" "!==e.value&&""!==e.value&&(console.log("search"),sendRequest())}),e.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),console.log("search"),sendRequest())})}function searchInpuHandler(){var e,t,n=$$(".search__input")[0];n&&(e=$$(".search__button")[0],t=$$(".popup__input")[0],e.addEventListener("click",function(){" "!==n.value&&""!==n.value&&(console.log("search"),t.value=n.value,sendRequest(),openPopup(".popup"))}))}function menuClose(){var e=$$(".header")[0];$$(".header__menu_btn")[0].addEventListener("click",function(){e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open")})}function buttonsUpDown(){var e;0!=$$(".buttons__flag").length&&(e=$$(".buttons")[0],$$(".buttons__flag")[0].addEventListener("click",function(){e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open")}))}Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var s=Object.keys(Object(o)),i=0,r=s.length;i<r;i++){var l=s[i],a=Object.getOwnPropertyDescriptor(o,l);void 0!==a&&a.enumerable&&(t[l]=o[l])}}return t}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),closePopup(),galeryInit(),sliderInit(),sliderInit(),formHandler(),searchInpuHandler(),menuClose(),buttonsUpDown();